        <!DOCTYPE html>
        <html>
        <head>
                <meta charset="utf-8">
        <title>TextureAnimationRequest class / bot_texture Library / Dart Documentation</title>
        <link rel="stylesheet" type="text/css"
            href="../styles.css">
        <link href="http://fonts.googleapis.com/css?family=Open+Sans:400,600,700,800" rel="stylesheet" type="text/css">
        <link rel="shortcut icon" href="../favicon.ico">
        
        </head>
        <body data-library="bot_texture" data-type="TextureAnimationRequest">
        <div class="page">
        <div class="header">
          <a href="../index.html"><div class="logo"></div></a>
          <a href="../index.html">Dart Documentation</a>
         &rsaquo; <a href="../bot_texture.html">bot_texture</a> &rsaquo; <a href="../bot_texture/TextureAnimationRequest.html">TextureAnimationRequest</a>        <div id="search-box">
          <input type="search" name="q" id="q" autocomplete="off"
              class="search-input" placeholder="Search API">
        </div>
        
      </div>
      <div class="drop-down" id="drop-down"></div>
      
        <div class="nav">
        
</div>
<div class="content">
        <h2><strong>TextureAnimationRequest</strong>
          class
        </h2>
        
<button id="show-inherited" class="show-inherited">Hide inherited</button>
<div class="doc">
<pre class="source">
class TextureAnimationRequest {
 final EventHandle&lt;EventArgs&gt; _startEventHandle = new EventHandle&lt;EventArgs&gt;();
 final String _texturePrefix;
 final int _frameCount;
 final Coordinate _offset;
 final int _delay;
 final String _initialFrame;
 final Coordinate _initialFrameOffset;

 bool _done = false;
 int _frame = null;

 TextureAnimationRequest(this._texturePrefix, this._frameCount,
     this._offset, {int delay: 0, int startFrame: 0,
   String initialFrame: null, Coordinate initialFrameOffset: null}) :
     this._delay = delay,
     this._initialFrame = initialFrame,
     this._initialFrameOffset = initialFrameOffset {
   assert(_delay &gt;= 0);
   assert(_texturePrefix != null);
   assert(_frameCount &gt; 0);
   assert(_offset.isValid);
 }

 bool get fresh =&gt; _frame == null;
 bool get done =&gt; _done;

 EventRoot&lt;EventArgs&gt; get started =&gt; _startEventHandle;

 void update() {
   if(_frame == null) {
     _frame = -_delay;
   } else if(_frame &lt; (_frameCount - 1)){
     _frame++;
     assert(_frame &lt; _frameCount);
   } else {
     _done = true;
   }

   if(_frame == 0 &amp;&amp; !_done) {
     _startEventHandle.fireEvent(EventArgs.empty);
   }
 }

 Tuple&lt;Coordinate, String&gt; _getFrameDetails() {
   var frameName;
   var offset = _offset;
   if(_frame &lt; 0 &amp;&amp; _initialFrame != null) {
     frameName = _initialFrame;
     if(_initialFrameOffset != null) {
       offset = _initialFrameOffset;
     }
   } else {

     // if we're delayed (_frame &lt; 0), then draw frame 0
     final frame = (_frame &lt; 0) ? 0 : _frame;

     var frameString = frame.toInt().toString();
     while(frameString.length &lt; 4) {
       frameString = "0$frameString";
     }

     frameName = "${_texturePrefix}_$frameString.png";
   }

   return new Tuple(offset, frameName);
 }
}
</pre>
</div>
<div>
<h3>Constructors</h3>
<div class="method"><h4 id="TextureAnimationRequest">
<button class="show-code">Code</button>
new <strong>TextureAnimationRequest</strong>(String _texturePrefix, int _frameCount, <a href="../bot/Coordinate.html">Coordinate</a> _offset, {int delay: 0, int startFrame: 0, String initialFrame: null, <a href="../bot/Coordinate.html">Coordinate</a> initialFrameOffset: null}) <a class="anchor-link" href="#TextureAnimationRequest"
              title="Permalink to TextureAnimationRequest.TextureAnimationRequest">#</a></h4>
<div class="doc">
<pre class="source">
TextureAnimationRequest(this._texturePrefix, this._frameCount,
   this._offset, {int delay: 0, int startFrame: 0,
 String initialFrame: null, Coordinate initialFrameOffset: null}) :
   this._delay = delay,
   this._initialFrame = initialFrame,
   this._initialFrameOffset = initialFrameOffset {
 assert(_delay &gt;= 0);
 assert(_texturePrefix != null);
 assert(_frameCount &gt; 0);
 assert(_offset.isValid);
}
</pre>
</div>
</div>
</div>
<div>
<h3>Properties</h3>
<div class="field"><h4 id="done">
<button class="show-code">Code</button>
final bool         <strong>done</strong> <a class="anchor-link"
            href="#done"
            title="Permalink to TextureAnimationRequest.done">#</a>
        </h4>
        <div class="doc">
<pre class="source">
bool get done =&gt; _done;
</pre>
</div>
</div>
<div class="field"><h4 id="fresh">
<button class="show-code">Code</button>
final bool         <strong>fresh</strong> <a class="anchor-link"
            href="#fresh"
            title="Permalink to TextureAnimationRequest.fresh">#</a>
        </h4>
        <div class="doc">
<pre class="source">
bool get fresh =&gt; _frame == null;
</pre>
</div>
</div>
<div class="field"><h4 id="started">
<button class="show-code">Code</button>
final <a href="../bot/EventRoot.html">EventRoot</a>&lt;<a href="../bot/EventArgs.html">EventArgs</a>&gt;         <strong>started</strong> <a class="anchor-link"
            href="#started"
            title="Permalink to TextureAnimationRequest.started">#</a>
        </h4>
        <div class="doc">
<pre class="source">
EventRoot&lt;EventArgs&gt; get started =&gt; _startEventHandle;
</pre>
</div>
</div>
</div>
<div>
<h3>Methods</h3>
<div class="method"><h4 id="update">
<button class="show-code">Code</button>
void <strong>update</strong>() <a class="anchor-link" href="#update"
              title="Permalink to TextureAnimationRequest.update">#</a></h4>
<div class="doc">
<pre class="source">
void update() {
 if(_frame == null) {
   _frame = -_delay;
 } else if(_frame &lt; (_frameCount - 1)){
   _frame++;
   assert(_frame &lt; _frameCount);
 } else {
   _done = true;
 }

 if(_frame == 0 &amp;&amp; !_done) {
   _startEventHandle.fireEvent(EventArgs.empty);
 }
}
</pre>
</div>
</div>
</div>
        </div>
        <div class="clear"></div>
        </div>
        
        <div class="footer">
          
        </div>
        <script async src="../client-live-nav.js"></script>
        </body></html>
        
