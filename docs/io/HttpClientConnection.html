        <!DOCTYPE html>
        <html>
        <head>
                <meta charset="utf-8">
        <title>HttpClientConnection Interface / io Library / Dart Documentation</title>
        <link rel="stylesheet" type="text/css"
            href="../styles.css">
        <link href="http://fonts.googleapis.com/css?family=Open+Sans:400,600,700,800" rel="stylesheet" type="text/css">
        <link rel="shortcut icon" href="../favicon.ico">
        
        </head>
        <body data-library="io" data-type="HttpClientConnection">
        <div class="page">
        <div class="header">
          <a href="../index.html"><div class="logo"></div></a>
          <a href="../index.html">Dart Documentation</a>
         &rsaquo; <a href="../io.html">io</a> &rsaquo; <a href="../io/HttpClientConnection.html">HttpClientConnection</a></div>
        <div class="nav">
        
</div>
<div class="content">
        <h2><strong>HttpClientConnection</strong>
          Interface
        </h2>
        
<div class="doc">
<p>A <a class="crossref" href="../io/HttpClientConnection.html">HttpClientConnection</a> is returned by all <a class="crossref" href="../io/HttpClient.html">HttpClient</a> methods
that initiate a connection to an HTTP server. The handlers will be
called as the connection state progresses.</p>
<p>The setting of all handlers is optional. If <a class="crossref" href="../io/HttpClientConnection.html#onRequest">onRequest</a> is not set
the request will be send without any additional headers and an
empty body. If <a class="crossref" href="../io/HttpClientConnection.html#onResponse">onResponse</a> is not set the response will be read
and discarded.</p>
</div>
<h3>Methods</h3>
<div class="method"><h4 id="detachSocket">
<span class="show-code">Code</span>
<a href="../io/DetachedSocket.html">DetachedSocket</a> <strong>detachSocket</strong>() <a class="anchor-link" href="#detachSocket"
              title="Permalink to HttpClientConnection.detachSocket">#</a></h4>
<div class="doc">
<p>Detach the underlying socket from the HTTP client. When the
socket is detached the HTTP client will no longer perform any
operations on it.</p>
<p>This is normally used when a HTTP upgrade is negotiated and the
communication should continue with a different protocol.</p>
<pre class="source">
DetachedSocket detachSocket();
</pre>
</div>
</div>
<div class="method"><h4 id="onError">
<span class="show-code">Code</span>
void <strong>set onError</strong>(callback) <a class="anchor-link" href="#onError"
              title="Permalink to HttpClientConnection.set onError">#</a></h4>
<div class="doc">
<p>Sets the handler that gets called if an error occurs while
connecting or processing the HTTP request.</p>
<pre class="source">
void set onError(void callback(e));
</pre>
</div>
</div>
<div class="method"><h4 id="onRequest">
<span class="show-code">Code</span>
void <strong>set onRequest</strong>(callback) <a class="anchor-link" href="#onRequest"
              title="Permalink to HttpClientConnection.set onRequest">#</a></h4>
<div class="doc">
<p>Sets the handler that is called when the connection is established.</p>
<pre class="source">
void set onRequest(void callback(HttpClientRequest request));
</pre>
</div>
</div>
<div class="method"><h4 id="onResponse">
<span class="show-code">Code</span>
void <strong>set onResponse</strong>(callback) <a class="anchor-link" href="#onResponse"
              title="Permalink to HttpClientConnection.set onResponse">#</a></h4>
<div class="doc">
<p>Sets callback to be called when the request has been send and
the response is ready for processing. The callback is called when
all headers of the response are received and data is ready to be
received.</p>
<pre class="source">
void set onResponse(void callback(HttpClientResponse response));
</pre>
</div>
</div>
<div class="method"><h4 id="redirect">
<span class="show-code">Code</span>
void <strong>redirect</strong>([<a href="../core/String.html">String</a> method, <a href="../uri/Uri.html">Uri</a> url]) <a class="anchor-link" href="#redirect"
              title="Permalink to HttpClientConnection.redirect">#</a></h4>
<div class="doc">
<p>Redirect this connection to a new URL. The default value for

<span class="param">method</span> is the method for the current request. The default value
for 
<span class="param">url</span> is the value of the <code>HttpStatus.LOCATION</code> header of
the current response. All body data must have been read from the
current response before calling <a class="crossref" href="../io/HttpClientConnection.html#redirect">redirect</a>.</p>
<pre class="source">
void redirect([String method, Uri url]);
</pre>
</div>
</div>
<div class="method"><h4 id="redirects">
<span class="show-code">Code</span>
<a href="../core/List.html">List</a>&lt;<a href="../io/RedirectInfo.html">RedirectInfo</a>&gt; <strong>get redirects</strong>() <a class="anchor-link" href="#redirects"
              title="Permalink to HttpClientConnection.get redirects">#</a></h4>
<div class="doc">
<p>Returns the series of redirects this connection has been through.</p>
<pre class="source">
List&lt;RedirectInfo&gt; get redirects();
</pre>
</div>
</div>
<h3>Fields</h3>
<div class="field"><h4 id="followRedirects">
<span class="show-code">Code</span>
<a href="../core/bool.html">bool</a>         <strong>followRedirects</strong> <a class="anchor-link"
            href="#followRedirects"
            title="Permalink to HttpClientConnection.followRedirects">#</a>
        </h4>
        <div class="doc">
<p>Set this property to <code>true</code> if this connection should
automatically follow redirects. The default is <code>true</code>.</p>
<pre class="source">
bool followRedirects;
</pre>
</div>
</div>
<div class="field"><h4 id="maxRedirects">
<span class="show-code">Code</span>
<a href="../core/int.html">int</a>         <strong>maxRedirects</strong> <a class="anchor-link"
            href="#maxRedirects"
            title="Permalink to HttpClientConnection.maxRedirects">#</a>
        </h4>
        <div class="doc">
<p>Set this property to the maximum number of redirects to follow
when <a class="crossref" href="../io/HttpClientConnection.html#followRedirects">followRedirects</a> is <code>true</code>. If this number is exceeded the
<a class="crossref" href="../io/HttpClientConnection.html#onError">onError</a> callback will be called with a <code>RedirectLimitExceeded</code>
exception. The default value is 5.</p>
<pre class="source">
int maxRedirects;
</pre>
</div>
</div>
        </div>
        <div class="clear"></div>
        </div>
        
        <div class="footer">
          
        </div>
        <script async src="../client-live-nav.js"></script>
        </body></html>
        
