        <!DOCTYPE html>
        <html>
        <head>
                <meta charset="utf-8">
        <title>HttpServer Interface / io Library / Dart Documentation</title>
        <link rel="stylesheet" type="text/css"
            href="../styles.css">
        <link href="http://fonts.googleapis.com/css?family=Open+Sans:400,600,700,800" rel="stylesheet" type="text/css">
        <link rel="shortcut icon" href="../favicon.ico">
        
        </head>
        <body data-library="io" data-type="HttpServer">
        <div class="page">
        <div class="header">
          <a href="../index.html"><div class="logo"></div></a>
          <a href="../index.html">Dart Documentation</a>
         &rsaquo; <a href="../io.html">io</a> &rsaquo; <a href="../io/HttpServer.html">HttpServer</a></div>
        <div class="nav">
        
</div>
<div class="content">
        <h2><strong>HttpServer</strong>
          Interface
        </h2>
        
<div class="doc">
<p>HTTP server.</p>
</div>
<h3>Constructors</h3>
<div class="method"><h4 id="HttpServer">
<span class="show-code">Code</span>
new <strong>HttpServer</strong>() <a class="anchor-link" href="#HttpServer"
              title="Permalink to HttpServer.HttpServer">#</a></h4>
<div class="doc">

<pre class="source">
HttpServer();
</pre>
</div>
</div>
<h3>Methods</h3>
<div class="method"><h4 id="addRequestHandler">
<span class="show-code">Code</span>
<strong>addRequestHandler</strong>(matcher, handler) <a class="anchor-link" href="#addRequestHandler"
              title="Permalink to HttpServer.addRequestHandler">#</a></h4>
<div class="doc">
<p>Adds a request handler to the list of request handlers. The
function 
<span class="param">matcher</span> is called with the request and must return
<code>true</code> if the 
<span class="param">handler</span> should handle the request. The first
handler for which 
<span class="param">matcher</span> returns <code>true</code> will be handed the
request.</p>
<pre class="source">
addRequestHandler(bool matcher(HttpRequest request),
                  void handler(HttpRequest request, HttpResponse response));
</pre>
</div>
</div>
<div class="method"><h4 id="close">
<span class="show-code">Code</span>
void <strong>close</strong>() <a class="anchor-link" href="#close"
              title="Permalink to HttpServer.close">#</a></h4>
<div class="doc">
<p>Stop server listening.</p>
<pre class="source">
void close();
</pre>
</div>
</div>
<div class="method"><h4 id="defaultRequestHandler">
<span class="show-code">Code</span>
void <strong>set defaultRequestHandler</strong>(handler) <a class="anchor-link" href="#defaultRequestHandler"
              title="Permalink to HttpServer.set defaultRequestHandler">#</a></h4>
<div class="doc">
<p>Sets the default request handler. This request handler will be
called if none of the request handlers registered by
<a class="crossref" href="../io/HttpServer.html#addRequestHandler">addRequestHandler</a> matches the current request. If no default
request handler is set the server will just respond with status
code <code>NOT_FOUND</code> (404).</p>
<pre class="source">
void set defaultRequestHandler(
    void handler(HttpRequest request, HttpResponse response));
</pre>
</div>
</div>
<div class="method"><h4 id="listen">
<span class="show-code">Code</span>
void <strong>listen</strong>(<a href="../core/String.html">String</a> host, <a href="../core/int.html">int</a> port, [<a href="../core/int.html">int</a> backlog]) <a class="anchor-link" href="#listen"
              title="Permalink to HttpServer.listen">#</a></h4>
<div class="doc">
<p>Start listening for HTTP requests on the specified 
<span class="param">host</span> and

<span class="param">port</span>. If a 
<span class="param">port</span> of 0 is specified the server will choose an
ephemeral port. The optional argument 
<span class="param">backlog</span> can be used to
specify the listen backlog for the underlying OS listen
setup. See <a class="crossref" href="../io/HttpServer.html#addRequestHandler">addRequestHandler</a> and <a class="crossref" href="../io/HttpServer.html#defaultRequestHandler">defaultRequestHandler</a> for
information on how incoming HTTP requests are handled.</p>
<pre class="source">
void listen(String host, int port, [int backlog]);
</pre>
</div>
</div>
<div class="method"><h4 id="listenOn">
<span class="show-code">Code</span>
void <strong>listenOn</strong>(<a href="../io/ServerSocket.html">ServerSocket</a> serverSocket) <a class="anchor-link" href="#listenOn"
              title="Permalink to HttpServer.listenOn">#</a></h4>
<div class="doc">
<p>Attach the HTTP server to an existing <code>ServerSocket</code>. If the
<a class="crossref" href="../io/HttpServer.html#new:HttpServer">HttpServer</a> is closed, the <a class="crossref" href="../io/HttpServer.html#new:HttpServer">HttpServer</a> will just detach itself,
and not close 
<span class="param">serverSocket</span>.</p>
<pre class="source">
void listenOn(ServerSocket serverSocket);
</pre>
</div>
</div>
<div class="method"><h4 id="onError">
<span class="show-code">Code</span>
void <strong>set onError</strong>(callback) <a class="anchor-link" href="#onError"
              title="Permalink to HttpServer.set onError">#</a></h4>
<div class="doc">
<p>Sets the error handler that is called when a connection error occurs.</p>
<pre class="source">
void set onError(void callback(e));
</pre>
</div>
</div>
<div class="method"><h4 id="port">
<span class="show-code">Code</span>
<a href="../core/int.html">int</a> <strong>get port</strong>() <a class="anchor-link" href="#port"
              title="Permalink to HttpServer.get port">#</a></h4>
<div class="doc">
<p>Returns the port that the server is listening on. This can be
used to get the actual port used when a value of 0 for <a class="crossref" href="../io/HttpServer.html#port">port</a> is
specified in the <a class="crossref" href="../io/HttpServer.html#listen">listen</a> call.</p>
<pre class="source">
int get port();
</pre>
</div>
</div>
        </div>
        <div class="clear"></div>
        </div>
        
        <div class="footer">
          
        </div>
        <script async src="../client-live-nav.js"></script>
        </body></html>
        
